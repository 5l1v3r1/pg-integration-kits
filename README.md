# PaymentGateway-Integration-kits

This repository provides you with an option to test our payment gateway with various popular platforms and also to integrate it into your site. 

## Let's start with php

Download the php folder from the above repository.You can refer [here](https://stackoverflow.com/questions/7106012/download-a-single-folder-or-directory-from-a-github-repo) to download a single folder form the repository.


### Prerequisites

you need have the below requirements running on your system to start working with php integration kit.

```
1)Apache web server
2)Php 7.0

```

### Testing & Integrating 

Lets start by testing our payment gateway, 
You can access the test credentials from [here](https://test.gocashfree.com/merchant/pg#api-key).
Open the file *request.php*,
1)Change the value of $mode to "TEST"

2)Change the value of $secretKey to your secret key. 

***Start.php***

To test our gateway,run this file on the web server and fill in the required details.Enter the test details on the payment gateway and you will be directed to our payment gateway simulator where you can simulate either a successful or a failed transaction.

***Request.php***

Lets see what's happening in the background. The following code generates a signature from the details given.

```
$secretKey = "<YOUR_SECRET_KEY_HERE>";
  $postData = array( 
  "appId" => $appId, 
  "orderId" => $orderId, 
  "orderAmount" => $orderAmount, 
  "orderCurrency" => $orderCurrency, 
  "orderNote" => $orderNote, 
  "customerName" => $customerName, 
  "customerPhone" => $customerPhone, 
  "customerEmail" => $customerEmail,
  "returnUrl" => $returnUrl, 
  "notifyUrl" => $notifyUrl,
);
ksort($postData);
$signatureData = "";
foreach ($postData as $key => $value){
    $signatureData .= $key.$value;
}
$signature = hash_hmac('sha256', $signatureData, $secretKey,true);
$signature = base64_encode($signature);

```
It uses a hidden form to submit the details.If the signature matches with signature generated by us you will be allowed to proceed to the gateway.we will send the transaction details to the returnUrl given.

***Response.php***

Place/Upload this file at the correct location as per the returnUrl.It collects the transaction details and displays them.


********************************************************